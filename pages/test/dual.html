<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <base href="../../" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="appicon128.png">
    <link type="text/css" rel="stylesheet" href="pages/page.css" />
    <title>てすと</title>

    <style type="text/css"><!--

    --></style>

    <script type="text/javascript" src="lib/include.js"></script>
    <script type="text/javascript" src="pages/test/dual.js"></script>
    <script type="text/javascript"><!--

      var Settings = {
          "debug": true,                       // デバッグモードかどうか。
      };

      document.addEventListener("DOMContentLoaded", function(event) {

          // デバッグ時は <body> に class="debug" を付ける。
          if(Settings["debug"])
              document.body.classList.add("debug");

          new TestLoader("canvas1");
      });

      //---------------------------------------------------------------------------------------------------------
      class TestLoader extends LoaderScene {

          _constructor(canvas) {
              super._constructor(canvas);

              this.layer = 0;
              this.setBehavior( new FillRenderer("black") );

              this.setChild(new LoadingRemain(), "remain");
          }

          load() {
              Asset.loadAll(
                  "art/test/laala.jpg",
                  "art/test/mzm.jpg",
                  "art/test/icon_256.png",
                  "art/test/packman.png",
                  "art/test/button.png",
                  "art/test/levitate.wav",
                  "art/test/WhIte.mp3",
                  "art/test/numbers.png",
              );
          }

          loadout(canvas) {
              return new Testant1(canvas);
          }
      }

    --></script>

  </head>

  <body>

    <div class="full">

      <div style="line-height:0px; font-size:0px; text-align:right">
      <button onclick="EngageScene.currentEngaged.start()">start</button>
      <button onclick="EngageScene.currentEngaged.stop()">stop</button>
      <button onclick="location.reload()">reload</button>
      <button onclick="EngageScene.currentEngaged.tick(EngageScene.currentEngaged.now + 10)">tick(10)</button>
      <button onclick="test()">test</button>
      <button onclick="test2()">test2</button>
      <button onclick="console.log(EngageScene.currentEngaged.dump()); console.log(EngageScene.currentEngaged)">dump</button>
      </div>

      <div style="position:absolute; width:100%; top:1.3em; bottom:50%">
        <canvas id="canvas1" style="width:100%; height:100%"></canvas>
        <div id="debug" style="position:absolute">
        </div>
      </div>

      <div style="position:absolute; width:100%; top:50%; bottom:1.3em; overflow:scroll">
        <canvas id="canvas2"></canvas>
        <div id="debug" style="position:absolute">
        </div>
      </div>

    </div>

  </body>
</html>
